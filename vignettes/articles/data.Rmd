---
title: "Data"
output:
  html_document:
    toc: true
    toc_depth: 1
    toc_float: true
---

```{css}
#| echo: false
h2 {
  background: #396175;
  color: #ffffff;
  padding: 16px 16px;
  border-radius: 0.5rem;
}
```

```{r}
#| echo: false
#| output: false
#| message: false
devtools::load_all()
codec_tbls <- pins::pin_list(codec_board_local_dev())
```

Community-level data are available as **CoDEC tables** (see `as_codec_tbl()`) included with the [codec](https://github.com/geomarker-io/codec) package for R (see `read_codec()`).

```{r}
#| echo: false
#| results: asis
for (nm in codec_tbls) {
  df <- codec_read(nm, codec_board_local_dev())
  cat(attr(df, "description"), "\n\n")
  cat(glue::glue("\n\n## `{ nm }`\n\n This CoDEC table has { format(nrow(df), big.mark = ',') } rows and { ncol(df) } columns:\n\n\n\n"))
  tibble::tibble(`column name` = names(df),
		 class = sapply(df, class),
		 example = sapply(df, \(x) sample(na.omit(x), 1))) |>
    knitr::kable(format = "pipe") |>
    as.character() |>
    paste(collapse = "\n") |>
    cat("\n\n")
}
```

